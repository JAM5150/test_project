<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memo-board">
	<select id="list" resultType="HashMap">
		SELECT MEMO_NUM, 
		MEMO_TITLE, 
		MEMO_CONTENT, 
		TO_CHAR(REG_DATETIME, 'YYYY-MM-DD HH24:MI:SS') AS REG_DATETIME,
		TO_CHAR(MOD_DATETIME, 'YYYY-MM-DD HH24:MI:SS') AS MOD_DATETIME
		FROM MEMO_LIST
	</select>
	
	<select id="one" resultType="HashMap" parameterType="HashMap">
		SELECT *
		FROM MEMO_LIST
		WHERE MEMO_NUM=#{id}
	</select>
	
	<insert id="insert" parameterType="HashMap">
		INSERT INTO MEMO_LIST
		(MEMO_NUM, MEMO_TITLE, MEMO_CONTENT,REG_DATETIME, MOD_DATETIME)
		VALUES (MEMO_SEQ.NEXTVAL, #{MEMO_TITLE},#{MEMO_CONTENT},CURRENT_DATE ,CURRENT_DATE)
	</insert>
	
	<update id="update" parameterType="HashMap">
		UPDATE MEMO_LIST
		SET
			MEMO_TITLE=#{MEMO_TITLE}
			, MEMO_CONTENT=#{MEMO_CONTENT}
			, MOD_DATETIME= CURRENT_DATE
		WHERE MEMO_NUM=#{id}
	</update>
	
	<delete id="delete" parameterType="HashMap">
		DELETE FROM MEMO_LIST WHERE MEMO_NUM=#{id}
	</delete>
</mapper>